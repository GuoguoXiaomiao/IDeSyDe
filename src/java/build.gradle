/*
 * This build file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * user guide available at https://docs.gradle.org/4.4.1/userguide/tutorial_java_projects.html
 */

plugins {
	id 'com.github.johnrengelman.shadow' version '5.2.0'
	// Apply the java plugin to add support for Java
	id 'java' 
	// Apply the application plugin to add support for building an application
	id 'application'
	id 'eclipse'
	id 'idea'
}

// In this section you declare where to find the dependencies of your project
repositories {
	// Use jcenter for resolving your dependencies.
	// You can declare any Maven/Ivy/file repository here.
	jcenter()
	ivy {
	  // https://download.eclipse.org/app4mc/updatesites/releases/0.9.6/features/org.eclipse.app4mc.amalthea.models.sdk_0.9.6.201910311316.jar
	  // https://download.eclipse.org/app4mc/updatesites/releases/0.9.6/artifacts.jar
	  url "https://download.eclipse.org/"
	  patternLayout {
	    // artifact '[organization]/updatesites/releases/[revision]/[module].jar'
	    artifact '[organization]/updatesites/releases/[revision]/plugins/[module]_[revision].[classifier].jar'
	  }
      metadataSources {
        artifact()
      }
	}
}

dependencies {
	// CLI of the project
	implementation 'info.picocli:picocli:4.0.4'
	// annotationProcessor 'info.picocli:picocli-codegen:4.0.4'
	
	implementation 'app4mc:org.eclipse.app4mc.amalthea.model:0.9.6:201910311059'

    implementation 'javax.json:javax.json-api:1.1'
    implementation 'org.glassfish:javax.json:1.1'

	// Use JUnit test framework
	testImplementation 'junit:junit:4.12'
}

// Define the main class for the application
mainClassName = 'DeSyDeCLI'

compileJava {
	sourceCompatibility = 1.8
	targetCompatibility = 1.8

	options.compilerArgs += ["-Aproject=${project.group}/${project.name}"]
}

shadowJar {
  archiveBaseName = 'desyde'
}
